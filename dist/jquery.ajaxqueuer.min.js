/*! jquery-ajaxqueuer V0.1.0 | jQuery plugin for ajax queue | MIT License | By: Pandao | https://github.com/pandao/jquery-ajaxqueuer | 2014-12-04 */
!function(a){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?a(require,exports,module):"function"==typeof define?define.amd?define(["jquery"],a):define(a):a(function(){},window.ajaxQueuer={},{})}(function(){!function(a){var b=function(){return 1==arguments.length&&"undefined"==typeof arguments[0].length?new b.queue([],arguments[0]):new b.queue(arguments[0],arguments[1])};b.queue=function(c,d){c=c||[],d=d||{};var e=this;"object"==typeof c&&(this.queue=c,this.count=c.length,this.nowIndex=0);var f={type:"GET",async:!1,timeout:3e3,namePrefix:"ajaxQueuer"};return this.settings=a.extend(f,d),this.qid=this.settings.namePrefix+(new Date).getTime(),this.add=function(a){if(a=a||{},"undefined"!=typeof a.length&&a.length>1)for(var b=0,c=a.length;c>b;b++)e.count+=1,e.queue.push(a[b]);else e.count+=1,e.queue.push(a);return e},this.async=function(){e.settings.async=!0,b.prioritySort(e);var a=e.queue[e.nowIndex];return b.request(e,a),e},this.synch=function(){e.settings.async=!1;var a=e.queue[e.nowIndex];return b.request(e,a),e},this.run=function(){var a=e.queue[e.nowIndex];return b.request(e,a),e},this.last=function(){return e.nowIndex=e.queue.length-1,b.request(e,e.queue[e.nowIndex],!0),e},this.getQueues=function(){return e.queue},this.stop=function(){return e.nowIndex=e.queue.length,e},this.flush=function(){return e.queue=[],e},this},b.prioritySort=function(a){for(var b in a.queue){var c=a.queue[b];"undefined"==typeof c.priority&&(c.priority=0)}a.queue.sort(function(a,b){return a.priority>b.priority?-1:1})},b.request=function(c,d,e){if(!(c.nowIndex>=c.count)){e=e||!1;var f={before:new Function,beforeSend:new Function,contentType:"application/x-www-form-urlencoded; charset=UTF-8",crossDomain:!1,complete:new Function,done:!1,data:{},dataType:"text html",error:new Function,headers:{},index:c.nowIndex,jsonp:"callback",name:c.qid+"["+c.nowIndex+"]",processData:!0,startTime:(new Date).getTime(),statusCode:{},success:new Function,status:""};c.queue[c.nowIndex]=d=a.extend(f,d),d.before(d);var g="undefined"==typeof d.async?c.settings.async:d.async;a.ajax({url:d.url,data:d.data,type:"undefined"==typeof d.type?c.settings.type:d.type,async:g,timeout:"undefined"==typeof d.timeout?c.settings.timeout:d.timeout,contentType:d.contentType,crossDomain:d.crossDomain,dataType:d.dataType,headers:d.headers,jsonp:d.jsonp,statusCode:d.statusCode,processData:d.processData,beforeSend:function(a){d.beforeSend(a,d,this)},error:function(a,b){d.errorTime=(new Date).getTime(),d.error(a,b,d,this)},success:function(a,b,c){d.result=a,d.successTime=(new Date).getTime(),d.success(a,b,c,d,this)},complete:function(a,f){d.status=f,d.completeTime=(new Date).getTime(),d.complete(a,f,d,this),this.async||"success"!=d.status||e||(d.done=!0,c.nowIndex+=1,b.request(c,c.queue[c.nowIndex]))}}),g&&(c.nowIndex+=1,b.request(c,c.queue[c.nowIndex]))}},a.ajaxQueuer=b}(jQuery)});